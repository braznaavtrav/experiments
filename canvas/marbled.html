<!DOCTYPE html>
<html>
  <head>
    <title>TEST</title>
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      body {
        padding: 0;
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="500" height="500"></canvas>
    <script type="text/javascript">
      var canvas = document.getElementById('canvas');
      var resize = function() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      };
      window.addEventListener('resize', resize);
      resize();

      var ctx = canvas.getContext('2d');
      var canvasData = ctx.getImageData(0, 0, canvas.width, canvas.height);

      function drawPixel (x, y, r, g, b, a) {
        var index = (x + y * canvas.width) * 4;

        canvasData.data[index + 0] = r;
        canvasData.data[index + 1] = g;
        canvasData.data[index + 2] = b;
        canvasData.data[index + 3] = a;
      }

      function drawCircle (x,y,radius,color) {
        ctx.beginPath();
        ctx.arc(x, y, radius, 0, 3 * Math.PI, false);
        ctx.fillStyle = color;
        ctx.strokeStyle = 'white';
        ctx.stroke();
        ctx.fill();
      }
      
      var n = 0;


      function updateCanvas() {  
        n += 3;
        var colorRand;
        var xOffset = 0;
        var sizeOffset = 0;
        var yStep = 10;
        var size = 30;
        var xStep = 100;
        var i = 0;

        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        for (var y = canvas.height - 1; y >= (0 - yStep); y -= yStep) {
          // colorRand = Math.ceil(Math.random() * 2);
          // var color = (colorRand == 2) ? 'blue' : 'black';
          xOffset = Math.sin((y+n)/25) * 12;
          for (var x = canvas.width - 1; x >= (0 - xStep); x -= xStep) {
            i++;

            sizeOffset = Math.sin(y/70) * 30;
            sizeOffset = (i % 2 === 0) ? sizeOffset : 0 - sizeOffset;

            drawCircle(x+xOffset,y,size+sizeOffset,'black');

          }

        }

      }
      
      setInterval(updateCanvas, 50);

      

    </script>
  </body>
</html>